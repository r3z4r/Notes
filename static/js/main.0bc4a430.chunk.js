(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{105:function(e,t,a){e.exports=a(118)},110:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),l=(a(110),a(10)),i=a(14),s=a.n(i),u=a(25),d=a(30),m=a(4),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.payload;switch(t.type){case"START":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"END":return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case"FETCH":return Object(m.a)(Object(m.a)({},e),{},{notes:a,loading:!1});case"USERINFO":return Object(m.a)(Object(m.a)({},e),{},{userInfo:a,loading:!1});case"LABELS":return Object(m.a)(Object(m.a)({},e),{},{userInfo:Object(m.a)(Object(m.a)({},e.userInfo),{},{labels:a}),loading:!1});case"ADD":var n=Object(d.a)(e.notes);return n.push(a),Object(m.a)(Object(m.a)({},e),{},{notes:n,loading:!1});case"DELETE":var r=e.notes.filter((function(e){return e.id!==a}));return Object(m.a)(Object(m.a)({},e),{},{notes:r,loading:!1});case"UPDATE":var o=e.notes.map((function(e){return e.id===a.id?a:e}));return Object(m.a)(Object(m.a)({},e),{},{notes:o});case"ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:a,loading:!1});case"FILTER":return Object(m.a)(Object(m.a)({},e),{},{filter:a});case"SEARCH":return Object(m.a)(Object(m.a)({},e),{},{searchValue:a});case"THEME":return Object(m.a)(Object(m.a)({},e),{},{userInfo:Object(m.a)(Object(m.a)({},e.userInfo),{},{darkTheme:!e.userInfo.darkTheme})});case"LISTVIEW":return Object(m.a)(Object(m.a)({},e),{},{userInfo:Object(m.a)(Object(m.a)({},e.userInfo),{},{listview:!e.userInfo.listview})});default:throw new Error("Action not defined")}},p=Object(n.createContext)({}),b=function(e){var t=e.children,a=e.todos,o=Object(n.useReducer)(f,a),c=Object(l.a)(o,2),i=c[0],d=c[1];function m(){d({type:"START"})}function b(e){d({type:"ERROR",payload:e})}return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),e.next=4,fetch("".concat("https://notes-94d5f.firebaseio.com","/todos.json"));case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,t.ok?(n=a?Object.keys(a).map((function(e){return{id:e,title:a[e].title,note:a[e].note,color:a[e].color,editedOn:a[e].editedOn,isChecklist:a[e].isChecklist,labels:a[e].labels?a[e].labels:[]}})):[],d({type:"FETCH",payload:n})):b(t.statusText),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),b(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),e.next=4,fetch("".concat("https://notes-94d5f.firebaseio.com","/userInfo.json"));case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,t.ok?d({type:"USERINFO",payload:a||{darkTheme:!1,listview:!1,labels:{}}}):b(t.statusText),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),b(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(p.Provider,{value:{addTodo:function(e){d({type:"ADD",payload:e})},deleteTodo:function(e){d({type:"DELETE",payload:e})},updateTodo:function(e){d({type:"UPDATE",payload:e})},startLoading:m,endLoading:function(){d({type:"END"})},setError:b,setTheme:function(){d({type:"THEME"})},setListview:function(){d({type:"LISTVIEW"})},setLabels:function(e){d({type:"LABELS",payload:e})},setFilter:function(e){d({type:"FILTER",payload:e})},setSearchValue:function(e){d({type:"SEARCH",payload:e})},notes:i.notes,loading:i.loading,error:i.error,darkTheme:i.userInfo.darkTheme,listview:i.userInfo.listview,labels:i.userInfo.labels,filter:i.filter,searchValue:i.searchValue}},t)},h=a(18),g=a(3),E=a(69),v=a.n(E),O=a(148),j=a(152),k=a(153),C=a(151),y=a(60),x=a(178),w=a(75),S=a.n(w),L=a(155),N=a(156),F=a(157),T=a(7),D=a(122),I=a(73),B=a.n(I),z=a(55),R=a.n(z),A=Object(O.a)((function(e){return{search:Object(h.a)({position:"relative",display:"flex",borderRadius:e.shape.borderRadius,backgroundColor:Object(T.c)(e.palette.action.active,.05),"&:hover":{backgroundColor:Object(T.c)(e.palette.action.hover,.1)},margin:e.spacing(0,10),height:"75%",width:"90%",maxWidth:e.spacing(100)},e.breakpoints.down("sm"),{margin:e.spacing(0,2),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",height:"100%"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),P=function(){var e=A(),t=Object(n.useRef)(null),a=Object(n.useContext)(p),o=a.setFilter,c=a.setSearchValue,l=a.searchValue,i=a.filter,d=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.target.value),o("search");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(B.a,null)),r.a.createElement(D.a,{fullWidth:!0,inputRef:t,placeholder:"Search\u2026",value:l,onChange:d,classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}),r.a.createElement(C.a,{onClick:function(){c(""),o("all")},disabled:"search"!==i},r.a.createElement(R.a,null)))},M=Object(O.a)((function(e){return{header:{display:"flex",flexDirection:"row",padding:e.spacing(0,1),alignItems:"center",height:e.spacing(8),backgroundColor:e.custom.palette.headerBG,backdropFilter:"blur(10px)",zIndex:e.zIndex.drawer+1},headerScroll:{borderBottom:"solid 1px ".concat(e.palette.divider)},logo:{height:"60%",margin:e.spacing(2)},hideOnSM:Object(h.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),grow:{flex:1}}})),H=function(e){var t=e.toggleSidebar,a=Object(j.a)({disableHysteresis:!0,threshold:0}),o=M(),c=Object(n.useContext)(p),l=c.listview,i=c.setListview,s=c.setTheme;return r.a.createElement(k.a,{elevation:a?4:0,position:"sticky",className:Object(g.a)(o.header,Object(h.a)({},o.headerScroll,!a))},r.a.createElement(C.a,{onClick:t,"aria-label":"menu"},r.a.createElement(S.a,{color:"secondary"})),r.a.createElement("img",{className:o.logo,src:v.a,alt:"logo"}),r.a.createElement(y.a,{className:o.hideOnSM,variant:"h6",color:"secondary"},"Notes"),r.a.createElement(P,null),r.a.createElement("div",{className:o.grow}),r.a.createElement(x.a,{title:"Change view",className:o.hideOnSM},r.a.createElement(C.a,{onClick:i},l?r.a.createElement(L.a,null):r.a.createElement(N.a,null))),r.a.createElement(x.a,{title:"Change theme"},r.a.createElement(C.a,{onClick:s},r.a.createElement(F.a,null))))},W=a(169),V=a(98),G=a(179),U=a(77),J=a.n(U),_=a(177),q=function(e){var t=e.open,a=e.message,n=e.severity;return r.a.createElement(G.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(_.a,{severity:n,variant:"filled"},a,r.a.createElement(C.a,{style:{marginLeft:"20vw",padding:0},size:"small",onClick:function(){return window.location.reload()}},r.a.createElement(J.a,{style:{marginLeft:"auto"}}))))},K=a(180),Z=a(162),$=a(160),Q=a(181),X=a(167),Y=a(168),ee=a(163),te=a(164),ae=a(165),ne=a(166),re=a(121),oe=a(158),ce=a(159),le=a(161),ie=a(80),se=a.n(ie),ue=a(81),de=a.n(ue),me=a(79),fe=a.n(me),pe=a(63),be=a.n(pe),he=a(78),ge=a.n(he),Ee=Object(O.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",border:"none"},container:{boxShadow:e.shadows[8],width:e.spacing(32),padding:e.spacing(3,2),outline:"none"},footer:{display:"flex",justifyContent:"flex-end",padding:e.spacing(1)},row:{display:"flex",alignItems:"center",outline:"none","& > *":{margin:e.spacing(1)}},icon:{padding:e.spacing(.8),color:function(t){return t?e.custom.palette.iconHighlight:e.custom.palette.iconColor}}}})),ve=function(e){var t=e.show,a=e.close,o=Ee(),c=Object(n.useContext)(p),i=c.startLoading,d=c.endLoading,f=c.setError,b=c.labels,g=c.setLabels,E=Object(n.useState)(""),v=Object(l.a)(E,2),O=v[0],j=v[1],k=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(""),i(),e.prev=2,e.next=5,fetch("".concat("https://notes-94d5f.firebaseio.com","/userInfo/labels.json"),{method:"POST",body:JSON.stringify(O)});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,d(),t.ok?((n=Object(m.a)({},b))[a.name]=O,g(n)):f(t.statusText),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),f(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.prev=1,e.next=4,fetch("".concat("https://notes-94d5f.firebaseio.com","/userInfo/labels/").concat(t,".json"),{method:"PUT",body:JSON.stringify(a)});case 4:n=e.sent,d(),n.ok||f(n.statusText),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.prev=1,e.next=4,fetch("".concat("https://notes-94d5f.firebaseio.com","/userInfo/labels/").concat(t,".json"),{method:"DELETE"});case 4:a=e.sent,d(),a.ok?(delete(n=Object(m.a)({},b))[t],g(n)):f(a.statusText),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:o.modal,open:t,onClose:a},r.a.createElement(oe.a,{in:t},r.a.createElement(V.a,{className:o.container,square:!0},r.a.createElement(y.a,{variant:"h6",paragraph:!0},"Edit labels"),r.a.createElement("div",{className:o.row},r.a.createElement(C.a,{onClick:function(){return j("")},className:o.icon},r.a.createElement(ge.a,{style:{fontSize:18}})),r.a.createElement(ce.a,{autoFocus:!0,placeholder:"Create a new label",fullWidth:!0,value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(C.a,{className:o.icon,disabled:0===O.length,onClick:k},r.a.createElement(be.a,{color:0===O.length?"primary":"secondary",style:{fontSize:18}}))),b&&Object.keys(b).map((function(e){return r.a.createElement(Oe,{key:e,name:b[e],onChange:function(t){return g(Object(m.a)(Object(m.a)({},b),{},Object(h.a)({},e,t)))},onEdit:function(t){return x(e,t)},onDelete:function(){return w(e)}})})),r.a.createElement($.a,null),r.a.createElement("div",{className:o.footer},r.a.createElement(le.a,{color:"secondary",onClick:a},"Done")))))},Oe=function(e){var t=e.name,a=e.onChange,o=e.onEdit,c=e.onDelete,i=Object(n.useState)(t),s=Object(l.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)(!1),f=Object(l.a)(m,2),p=f[0],b=f[1],h=Object(n.useState)(!1),g=Object(l.a)(h,2),E=g[0],v=g[1],O=Ee(p),j=Object(n.useRef)(null);return r.a.createElement("div",{className:O.row,onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)}},r.a.createElement(C.a,{className:O.icon,onClick:c},p?r.a.createElement(fe.a,{style:{fontSize:18}}):r.a.createElement(se.a,{style:{fontSize:18}})),r.a.createElement(D.a,{onFocus:function(){return v(!0)},onBlur:function(e){null!==e.relatedTarget&&e.relatedTarget.id==="".concat(t,"-button")||(v(!1),d(t))},className:O.input,inputRef:j,onChange:function(e){return d(e.target.value)},fullWidth:!0,placeholder:"Enter label name",value:u}),r.a.createElement(C.a,{id:"".concat(t,"-button"),onClick:function(){E?(u!==t&&(a(u),o(u)),v(!1)):j.current.select()},className:O.icon},E?r.a.createElement(be.a,{color:"secondary",style:{fontSize:18}}):r.a.createElement(de.a,{style:{fontSize:18}})))},je=a(23),ke=function(e){var t=e.letter,a=Object(je.a)();return r.a.createElement("svg",{width:"24",height:"20",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M21.3992 2H5C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H21.4396C22.4056 22 23.3125 21.5348 23.8761 20.7503L30 12.2256L23.8722 3.30179C23.3127 2.48693 22.3877 2 21.3992 2Z",stroke:a.palette.action.active,strokeWidth:"2.4",fill:"none"}),r.a.createElement("text",{x:"9",y:"17",fontSize:12,fontWeight:"bold",fill:a.palette.text.secondary},t.toUpperCase()))},Ce=Object(O.a)((function(e){return{root:Object(h.a)({},e.breakpoints.up("sm"),{display:"flex"}),drawer:{marginTop:e.spacing(8),width:200},drawerOpen:{width:200,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),border:"none"},e.breakpoints.down("sm"),{backgroundColor:"#0000"}),content:Object(h.a)({flexGrow:1},e.breakpoints.down("sm"),{marginLeft:e.spacing(1.7)}),menuItem:{height:e.spacing(7),borderRadius:function(e){return e?0:"50%"}},divider:{opacity:function(e){return e?1:0}}}})),ye=function(e){var t,a,o=e.open,c=e.children,i=Ce(o),s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],m=u[1],f=Object(n.useContext)(p),b=f.labels,E=f.filter,v=f.setFilter;return r.a.createElement("div",{className:i.root},r.a.createElement(K.a,{variant:"permanent",className:Object(g.a)(i.drawer,(t={},Object(h.a)(t,i.drawerOpen,o),Object(h.a)(t,i.drawerClose,!o),t)),classes:{paper:Object(g.a)(i.drawer,(a={},Object(h.a)(a,i.drawerOpen,o),Object(h.a)(a,i.drawerClose,!o),a))}},r.a.createElement(Z.a,null,r.a.createElement(xe,{open:o,label:"Notes",onClick:function(){return v("all")},icon:r.a.createElement(ee.a,null),selected:"all"===E}),r.a.createElement($.a,{className:i.divider}),b&&Object.keys(b).map((function(e){return r.a.createElement(xe,{key:e,open:o,label:b[e],onClick:function(){return v(e)},icon:r.a.createElement(ke,{letter:b[e][0]}),selected:E===e})})),r.a.createElement($.a,{className:i.divider}),r.a.createElement(xe,{open:o,label:"Edit labels",onClick:function(){return m(!0)},icon:r.a.createElement(te.a,null),selected:!1}),r.a.createElement(xe,{open:o,label:"Archive",onClick:function(){return v("archive")},icon:r.a.createElement(ae.a,null),selected:"archive"===E}),r.a.createElement(xe,{open:o,label:"Trash",onClick:function(){return v("trash")},icon:r.a.createElement(ne.a,null),selected:"trash"===E}))),r.a.createElement("main",{className:i.content},c),r.a.createElement(ve,{show:d,close:function(){return m(!1)}}))},xe=function(e){var t=e.label,a=e.icon,n=e.selected,o=e.onClick,c=e.open,l=Ce(c);return r.a.createElement(Q.a,{selected:n,onClick:o,className:l.menuItem,button:!0},r.a.createElement(X.a,null,a),r.a.createElement(Y.a,{primary:t}))},we=Object(O.a)((function(e){return{loadingBar:{position:"fixed",top:0,width:"100%",zIndex:e.zIndex.modal+1}}})),Se=function(e){var t=we(),a=Object(n.useContext)(p),o=a.loading,c=a.error,i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],d=s[1];return r.a.createElement("div",null,o&&r.a.createElement(W.a,{color:"secondary",className:t.loadingBar}),r.a.createElement(V.a,{square:!0,style:{minHeight:"100vh"}},r.a.createElement(q,{message:c,severity:"error",open:c}),r.a.createElement(H,{toggleSidebar:function(){return d((function(e){return!e}))}}),r.a.createElement(ye,{open:u},e.children)))},Le=a(172),Ne=a(83),Fe=a.n(Ne),Te=a(170),De=a(176),Ie=a(82),Be=a.n(Ie),ze=Object(O.a)((function(e){return{checkboxRoot:{padding:e.spacing(.5)},circle:{height:e.spacing(3.5),width:e.spacing(3.5),flex:1,backgroundColor:function(t){var a=t.color;return e.custom.palette.noteBackground[a]},borderRadius:"50%"}}})),Re=function(e){var t=e.color,a=e.checked,n=e.setColor,o=ze();return r.a.createElement(De.a,{classes:{root:o.checkboxRoot},checkedIcon:r.a.createElement(Pe,{color:t}),icon:r.a.createElement(Ae,{color:t}),checked:a,onChange:function(){return n(t)}})},Ae=function(e){var t=e.color,a=ze({color:t});return r.a.createElement("span",{className:a.circle})},Pe=function(e){var t=e.color,a=ze({color:t});return r.a.createElement("span",{className:a.circle},r.a.createElement(Be.a,null))},Me=Object(O.a)((function(e){return{icon:{marginLeft:e.spacing(0)},popover:{pointerEvents:"none"},colors:{pointerEvents:"auto",display:"flex",flexWrap:"wrap",maxWidth:e.spacing(18)}}})),He=function(e){var t=e.color,a=e.setColor,o=e.disablePortal,c=Me(),i=Object(je.a)(),s=Object(n.useState)(null),u=Object(l.a)(s,2),d=u[0],m=u[1],f=function(e){m(e.currentTarget)},p=function(){m(null)},b=Boolean(d);return r.a.createElement(C.a,{edge:"start","aria-label":"palette",className:c.icon,onMouseEnter:f,onMouseLeave:p,onClick:function(e){e.stopPropagation(),b?p():f(e)}},r.a.createElement(Fe.a,{style:{fontSize:18}}),r.a.createElement(Te.a,{disablePortal:o,disableAutoFocus:!0,disableEnforceFocus:!0,className:c.popover,open:b,anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:p,elevation:2},r.a.createElement("div",{className:c.colors,onMouseLeave:p},Object.keys(i.custom.palette.noteBackground).map((function(e){return r.a.createElement(Re,{key:e,color:e,selectedColor:t,checked:t===e,setColor:a})})))))},We=a(84),Ve=a.n(We),Ge=a(58),Ue=a.n(Ge),Je=function(e){var t=e.isChecklist,a=e.setChecklist;return r.a.createElement(x.a,{title:"Toggle checkboxes"},r.a.createElement(C.a,{onClick:function(e){e.stopPropagation(),a()}},t?r.a.createElement(Ve.a,{style:{fontSize:18}}):r.a.createElement(Ue.a,{style:{fontSize:18}})))},_e=a(171),qe=a(88),Ke=a.n(qe),Ze=a(87),$e=a.n(Ze),Qe=a(86),Xe=a.n(Qe),Ye=a(85),et=a.n(Ye),tt=Object(O.a)((function(e){return{root:{margin:e.spacing(0,-1.5)},row:{display:"flex",alignItems:"center","&:hover":{boxShadow:"0 0 2px grey inset"},"&:focus-within":{boxShadow:"0 0 2px grey inset"}},input:{backgroundColor:"#0000",color:e.palette.text.primary,fontSize:18,outline:"none",border:"none",alignSelf:"stretch",flexGrow:1},collapse:{display:"flex",color:e.palette.text.hint,margin:e.spacing(1),cursor:"pointer","&:hover":{color:e.palette.text.primary}},done:{textDecoration:"line-through"},icon:{padding:e.spacing(1),alignSelf:"center"}}})),at=function(e){var t=e.notes,a=e.setNote,o=e.editMode,c=e.expandcompleted,i=e.setExpandCompleted,s=tt(),u=Object(n.useState)(0),f=Object(l.a)(u,2),p=f[0],b=f[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){h.current&&h.current.focus()}),[p]);var E=function(e){var n=Object(d.a)(t);n.splice(e,1),a(n)},v=t?et.a.partition(t.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{order:t})})),["isCompleted",!1]):[[],[]],O=v[0].length,j=v[1].length,k=function(e,n){var r=Object(d.a)(t);if("Enter"===e.key){if(""===r[n].text)return;r.splice(n+1,0,{text:"",isCompleted:!1}),b((function(e){return e+1}))}else"checkbox"===e.target.getAttribute("type")?(r[n]=Object(m.a)(Object(m.a)({},t[n]),{},{isCompleted:e.target.checked}),o&&1===O&&e.target.checked&&r.splice(n+1,0,{text:"",isCompleted:!1})):r[n]=Object(m.a)(Object(m.a)({},t[n]),{},{text:e.target.value});a(r)};return r.a.createElement("div",{className:s.root},o?v[0].map((function(e,a){return r.a.createElement(nt,{key:e.order,onDelete:function(){return E(e.order)},showDelete:t.length>1},0===e.text.length?r.a.createElement(Xe.a,{size:"small",color:"secondary",className:s.icon}):r.a.createElement(De.a,{checked:e.isCompleted,onChange:function(t){return k(t,e.order)}}),r.a.createElement("input",{className:s.input,placeholder:"List Item",ref:a===p?h:null,onFocus:function(){return b(a)},value:e.text,onKeyDown:function(t){"Enter"===t.key&&k(t,e.order)},onChange:function(t){return k(t,e.order)}}))})):v[0].map((function(e){return r.a.createElement("div",{style:{display:"flex"},key:e.order},r.a.createElement(De.a,{checked:e.isCompleted,size:"small",style:{alignSelf:"baseline"},onClick:function(t){t.stopPropagation(),k(t,e.order)}}),r.a.createElement(y.a,{variant:"subtitle1",style:{alignSelf:"center"},dangerouslySetInnerHTML:(t=e.text,{__html:t})}));var t})),j>0&&r.a.createElement(n.Fragment,null,r.a.createElement($.a,{variant:"middle"}),r.a.createElement("div",{className:s.collapse,onClick:function(e){e.stopPropagation(),i((function(e){return!e}))}},c?r.a.createElement($e.a,null):r.a.createElement(Ke.a,null),r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"".concat(j," is completed")))),r.a.createElement(_e.a,{in:c},o?v[1].map((function(e,a){return r.a.createElement(nt,{key:e.order,onDelete:function(){return E(e.order)},showDelete:t.length>1},r.a.createElement(De.a,{checked:e.isCompleted,color:"default",onChange:function(t){return k(t,e.order)}}),r.a.createElement("input",{className:Object(g.a)(s.input,s.done),placeholder:"+ List Item",ref:a+O===p?h:null,onFocus:function(){return b(a+O)},value:e.text,onKeyDown:function(t){"Enter"===t.key&&k(t,e.order)},onChange:function(t){return k(t,e.order)}}))})):v[1].map((function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t+O},r.a.createElement(De.a,{checked:e.isCompleted,size:"small",color:"default",style:{alignSelf:"baseline"},onClick:function(t){t.stopPropagation(),k(t,e.order)}}),r.a.createElement(y.a,{variant:"subtitle1",className:s.done,style:{alignSelf:"center"}},e.text))}))))},nt=function(e){var t=e.children,a=e.onDelete,o=e.showDelete,c=tt(),i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],d=s[1];return r.a.createElement("div",{className:c.row,onMouseOver:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},t,r.a.createElement(oe.a,{in:u&&o},r.a.createElement(C.a,{onClick:a},r.a.createElement(R.a,null))))},rt=a(89),ot=a.n(rt),ct=Object(O.a)((function(e){return{root:{},row:{margin:e.spacing(0,-1.5),cursor:"pointer",display:"flex","&:hover":{backgroundColor:e.custom.palette.labelBackground}}}})),lt=function(e){var t=e.label,a=e.isChecked,n=e.setLabels,o=ct();return r.a.createElement("div",{className:o.row,onClick:function(e){e.stopPropagation(),n(t.id)}},r.a.createElement(De.a,{checked:a,size:"small",color:"default"}),r.a.createElement(y.a,{variant:"body2",style:{alignSelf:"center"}},t.name))},it=Object(O.a)((function(e){return{labels:{width:e.spacing(24),padding:e.spacing(1)}}})),st=function(e){var t=e.labels,a=e.selectedLabels,o=e.setLabels,c=e.disablePortal,i=it(),s=Object(n.useState)(null),u=Object(l.a)(s,2),d=u[0],m=u[1],f=function(){m(null)},p=Boolean(d);return r.a.createElement(x.a,{title:"Change labels"},r.a.createElement(C.a,{"aria-label":"labelPanel",onClick:function(e){e.stopPropagation(),p?f():function(e){m(e.currentTarget)}(e)}},r.a.createElement(ot.a,{style:{fontSize:18}}),r.a.createElement(Te.a,{disablePortal:c,disableAutoFocus:!0,disableEnforceFocus:!0,open:p,anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:f,elevation:2},r.a.createElement("div",{className:i.labels},r.a.createElement(y.a,{align:"left",variant:"body2",color:"textSecondary",gutterBottom:!0},"Label note"),t&&Object.keys(t).map((function(e){return r.a.createElement(lt,{key:e,isChecked:a.includes(e),setLabels:o,label:{id:e,name:t[e]}})}))))))},ut=a(182),dt=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1,.4,0,0)}},chip:{backgroundColor:e.custom.palette.labelBackground,"&:hover":{backgroundColor:e.custom.palette.labelHoverBackground}}}})),mt=function(e){var t=e.selectedLabels,a=e.onDelete,o=dt(),c=Object(n.useContext)(p),l=c.labels,i=c.setFilter;return r.a.createElement("div",{className:o.root},t&&l&&t.map((function(e){return l[e]&&r.a.createElement(ut.a,{className:o.chip,key:e,size:"small",label:l[e],onClick:function(t){t.stopPropagation(),i(e)},onDelete:function(){return a(e)}})})))},ft=Object(O.a)((function(e){return{root:{padding:"8px 12px",maxWidth:e.spacing(70),margin:"36px auto",outline:"none",backgroundColor:function(t){var a=t.col;return e.custom.palette.noteBackground[a]}},gap:{flexGrow:1},input:{flexGrow:1},action:{display:"flex"}}})),pt=function(){var e=Object(n.useContext)(p),t=e.labels,a=e.addTodo,o=e.startLoading,c=e.setError,i=e.filter,f=Object(n.useState)(!1),b=Object(l.a)(f,2),h=b[0],g=b[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),O=v[0],j=v[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),w=y[0],S=y[1],L=Object(n.useState)("default"),N=Object(l.a)(L,2),F=N[0],T=N[1],I=Object(n.useState)(!1),B=Object(l.a)(I,2),z=B[0],R=B[1],A=Object(n.useState)(!0),P=Object(l.a)(A,2),M=P[0],H=P[1],W=Object(n.useState)([]),G=Object(l.a)(W,2),U=G[0],J=G[1],_=ft({col:F});Object(n.useEffect)((function(){"all"!==i&&J([i]),console.log("creator rendered")}),[i]);var q=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T("default"),g(!1),R(!1),J([]),S(""),j(""),""!==O||!(0===w.length||z&&1===w.length&&""===w[0].text)){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,o(),t={title:O,note:w,color:F,isChecklist:z,labels:U,editedOn:(new Date).toISOString()},e.next=13,fetch("".concat("https://notes-94d5f.firebaseio.com","/todos.json"),{method:"POST",body:JSON.stringify(t)});case 13:return n=e.sent,e.next=16,n.json();case 16:r=e.sent,n.ok?a(Object(m.a)(Object(m.a)({},t),{},{id:r.name})):c(n.statusText),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),console.error(e.t0),c(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(){return e.apply(this,arguments)}}(),K=function(){S(z?function(e){return e.map((function(e){return e.text})).join("\n")}:function(e){return e.split("\n").map((function(e){return{text:e,isCompleted:!1}}))}),R((function(e){return!e}))},Z=function(e){var t=Object(d.a)(U),a=U.indexOf(e);-1===a?t.push(e):t.splice(a,1),J(t)};return r.a.createElement(V.a,{tabIndex:"-1",className:_.root,elevation:6,onBlur:function(e){return function(e){var t=e.relatedTarget,a=e.currentTarget;if(null!==t){for(var n=t;null!==n;){if(a===n)return;n=n.parentNode}q()}else q()}(e)}},h?r.a.createElement(D.a,{fullWidth:!0,placeholder:"Title",value:O,onChange:function(e){return j(e.target.value)}}):null,z?r.a.createElement(at,{expandcompleted:M,setExpandCompleted:H,editMode:!0,notes:w,setNote:S}):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(D.a,{style:{flexGrow:1},autoFocus:!0,placeholder:"Take a note",multiline:!0,fullWidth:!0,value:w,onChange:function(e){S(e.target.value),!h&&g(!0)},onClick:function(){return g(!0)}}),!h&&r.a.createElement(x.a,{title:"New list"},r.a.createElement(C.a,{onClick:function(){g(!0),K()}},r.a.createElement(Ue.a,null)))),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{selectedLabels:U,onDelete:function(e){return Z(e)}}),r.a.createElement("div",{className:_.action},r.a.createElement("div",{className:_.gap},r.a.createElement(He,{color:F,setColor:function(e){return T(e)},disablePortal:!0}),r.a.createElement(Je,{isChecklist:z,setChecklist:K}),r.a.createElement(st,{labels:t,selectedLabels:U,disablePortal:!0,setLabels:function(e){return Z(e)}})),r.a.createElement(le.a,{onClick:function(){S(""),j(""),T("default"),g(!1),R(!1)}},"Cancel"),r.a.createElement(le.a,{color:"secondary",onClick:q},"Add"))))},bt=a(119),ht=a(173),gt=a(94),Et=a.n(gt),vt=a(91),Ot=a.n(vt),jt=a(90),kt=a.n(jt),Ct=function(e){var t=e.isArchived,a=e.setLabels;return r.a.createElement(x.a,{title:t?"Unarchive":"Archive"},r.a.createElement(C.a,{"aria-label":"archive",onClick:function(e){e.stopPropagation(),a("archive")}},t?r.a.createElement(kt.a,{style:{fontSize:18}}):r.a.createElement(Ot.a,{style:{fontSize:18}})))},yt=a(92),xt=a.n(yt),wt=a(93),St=a.n(wt),Lt=Object(O.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",border:"none"},container:{width:e.spacing(56),padding:e.spacing(3),outline:"none"},footer:{display:"flex",justifyContent:"flex-end","& >*":{margin:e.spacing(0,1)}}}})),Nt=function(e){var t=e.show,a=(e.text,e.onConfirm),n=e.onCancel,o=Lt();return r.a.createElement(re.a,{className:o.modal,open:t,onClose:n},r.a.createElement(oe.a,{in:t},r.a.createElement(V.a,{className:o.container},r.a.createElement(y.a,{variant:"subtitle2",paragraph:!0},"Delete note forever?"),r.a.createElement("div",{className:o.footer},r.a.createElement(le.a,{onClick:n},"Cancel"),r.a.createElement(le.a,{color:"secondary",onClick:a},"Delete")))))},Ft=Object(O.a)((function(e){return{actions:{margin:e.spacing(.5,0)}}})),Tt=function(e){var t=e.onDelete,a=e.id,o=e.color,c=e.setColor,i=e.toggleListMode,s=e.isChecklist,u=e.labels,d=e.selectedLabels,m=e.setLabels,f=Ft(),p=Object(n.useState)(!1),b=Object(l.a)(p,2),h=b[0],g=b[1];return r.a.createElement("div",{className:f.actions},d.some((function(e){return"trash"===e}))?r.a.createElement(n.Fragment,null,r.a.createElement(x.a,{title:"Delete note forever"},r.a.createElement(C.a,{"aria-label":"delete",onClick:function(e){e.stopPropagation(),g(!0)}},r.a.createElement(xt.a,{style:{fontSize:18}}))),r.a.createElement(x.a,{title:"Restore note"},r.a.createElement(C.a,{"aria-label":"restore",onClick:function(){m("trash")}},r.a.createElement(St.a,{style:{fontSize:18}})))):r.a.createElement(n.Fragment,null,r.a.createElement(He,{color:o,setColor:c}),r.a.createElement(Je,{isChecklist:s,setChecklist:i}),r.a.createElement(st,{selectedLabels:d,labels:u,setLabels:m}),r.a.createElement(Ct,{isArchived:d.some((function(e){return"archive"===e})),setLabels:m}),r.a.createElement(x.a,{title:"Delete note"},r.a.createElement(C.a,{"aria-label":"delete",onClick:function(){m("trash")}},r.a.createElement(Et.a,{style:{fontSize:18}})))),r.a.createElement(Nt,{show:h,onCancel:function(e){e.stopPropagation(),g(!1)},onConfirm:function(e){e.stopPropagation(),t(a)}}))},Dt=Object(O.a)((function(e){return{todo:{padding:e.spacing(1,1.5,0),whiteSpace:"pre-line",margin:"auto",outline:"none",backgroundColor:function(e){return e.color},maxWidth:e.spacing(70),"&:hover":{boxShadow:e.shadows[3]}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},popover:{pointerEvents:"none"}}})),It=function(e){var t=e.todo,a=e.onDelete,o=e.onEditFinish,c=e.updateTodo,i=e.listview,s=e.labels,u=t.id,f=t.title,p=t.note,b=t.color,h=t.editedOn,g=t.isChecklist,E=Object(n.useState)(!1),v=Object(l.a)(E,2),O=v[0],j=v[1],k=new Date(h).toDateString(),C=Object(je.a)(),x=Dt({color:C.custom.palette.noteBackground[b]}),w=Object(n.useState)(!1),S=Object(l.a)(w,2),L=S[0],N=S[1],F=Object(n.useState)(!1),T=Object(l.a)(F,2),I=T[0],B=T[1],z=Object(n.useState)(!1),R=Object(l.a)(z,2),A=R[0],P=R[1],M=function(){var e;return e=g?p.map((function(e){return e.text})).join("\n"):p.split("\n").map((function(e){return{text:e,isCompleted:!1}})),Object(m.a)(Object(m.a)({},t),{},{isChecklist:!g,note:e,editedOn:(new Date).toISOString()})},H=function(e){var a=Object(d.a)(t.labels),n=t.labels.indexOf(e);return-1===n?a.push(e):a.splice(n,1),Object(m.a)(Object(m.a)({},t),{},{labels:a})},W=function(e){return{__html:e}},G=r.a.createElement(V.a,{className:x.todo,variant:"outlined",onClick:function(){N(!0)},onMouseOver:function(){return B(!0)},onMouseLeave:function(){return B(!1)}},r.a.createElement(y.a,{variant:"h6",dangerouslySetInnerHTML:W(f)}),g?r.a.createElement(at,{expandcompleted:O,setExpandCompleted:j,notes:p,setNote:function(e){return o(Object(m.a)(Object(m.a)({},t),{},{note:e}))}}):r.a.createElement(y.a,{variant:"subtitle1",dangerouslySetInnerHTML:W(p)}),r.a.createElement(mt,{selectedLabels:t.labels,onDelete:function(e){return o(H(e))}}),r.a.createElement(oe.a,{in:I},r.a.createElement("div",null,r.a.createElement(Tt,{id:u,onDelete:a,color:b,setColor:function(e){return function(e){o(Object(m.a)(Object(m.a)({},t),{},{color:e,editedOn:(new Date).toISOString()}))}(e)},isChecklist:g,toggleListMode:function(){o(M())},labels:s,selectedLabels:t.labels,setLabels:function(e){return o(H(e))}}))));return r.a.createElement(n.Fragment,null,r.a.createElement(re.a,{className:x.modal,open:L,onClose:function(){N(!1),P(!1),A&&o(Object(m.a)(Object(m.a)({},t),{},{editedOn:(new Date).toISOString()}))}},r.a.createElement(bt.a,{in:L},r.a.createElement(V.a,{className:x.todo},r.a.createElement(D.a,{style:{fontSize:24},fullWidth:!0,autoFocus:!0,placeholder:"Title",value:f,onChange:function(e){c(Object(m.a)(Object(m.a)({},t),{},{title:e.target.value})),P(!0)}}),g?r.a.createElement(at,{expandcompleted:O,setExpandCompleted:j,editMode:!0,notes:p,setNote:function(e){c(Object(m.a)(Object(m.a)({},t),{},{note:e})),P(!0)}}):r.a.createElement(D.a,{style:{width:"95%"},placeholder:"Take a note",multiline:!0,value:p,onChange:function(e){c(Object(m.a)(Object(m.a)({},t),{},{note:e.target.value})),P(!0)}}),r.a.createElement("br",null),r.a.createElement(mt,{selectedLabels:t.labels,onDelete:function(e){c(H(e)),P(!0)}}),r.a.createElement(y.a,{variant:"caption",display:"block",align:"right",color:"textSecondary",style:{fontSize:10,marginRight:8}},"Edited ".concat(k)),r.a.createElement(Tt,{id:u,onDelete:a,color:b,setColor:function(e){c(Object(m.a)(Object(m.a)({},t),{},{color:e})),P(!0)},isChecklist:g,toggleListMode:function(){c(M()),P(!0)},labels:s,selectedLabels:t.labels,setLabels:function(e){c(H(e)),P(!0)}})))),r.a.createElement(Le.a,{item:!0,xs:12,sm:i?12:6,md:i?12:4,lg:i?12:3,xl:i?12:2},L?r.a.createElement(ht.a,{className:x.todo,height:"60%",style:{transform:"none"}},G):r.a.createElement(bt.a,{in:!L},G)))},Bt=function(){var e=Object(n.useContext)(p),t=e.notes,a=e.deleteTodo,o=e.updateTodo,c=e.startLoading,l=e.endLoading,i=e.setError,d=e.listview,f=e.labels,b=e.filter,h=e.searchValue,g=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),e.prev=1,e.next=4,fetch("".concat("https://notes-94d5f.firebaseio.com","/todos/").concat(t,".json"),{method:"DELETE"});case 4:(n=e.sent).ok?a(t):i(n.statusText),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),i(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),a=t.id,delete(n=Object(m.a)({},t)).id,c(),e.prev=5,e.next=8,fetch("".concat("https://notes-94d5f.firebaseio.com","/todos/").concat(a,".json"),{method:"PATCH",body:JSON.stringify(n)});case 8:return r=e.sent,e.next=11,r.json();case 11:r.ok?l():i(r.statusText),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),i(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),v="all"===b?t.filter((function(e){return!e.labels.some((function(e){return"archive"===e||"trash"===e}))})):"search"===b?t.filter((function(e){return!!e.title.toLowerCase().includes(h.toLowerCase())||(e.isChecklist?e.note.some((function(e){return e.text.toLowerCase().includes(h.toLowerCase())})):e.note.toLowerCase().includes(h.toLowerCase()))})).map((function(e){var t,a=e.title.replace(new RegExp(h,"gi"),(function(e){return'<mark style="background : #fdd663 ; color: black;">'.concat(e,"</mark>")}));return t=e.isChecklist?e.note.map((function(e){var t=e.text.replace(new RegExp(h,"gi"),(function(e){return'<mark style="background : #fdd663 ; color: black;">'.concat(e,"</mark>")}));return Object(m.a)(Object(m.a)({},e),{},{text:t})})):e.note.replace(new RegExp(h,"gi"),(function(e){return'<mark style="background : #fdd663 ; color: black;">'.concat(e,"</mark>")})),Object(m.a)(Object(m.a)({},e),{},{title:a,note:t})})):t.filter((function(e){return e.labels.some((function(e){return e===b}))}));return r.a.createElement(n.Fragment,null,v&&v.slice(0).reverse().map((function(e){return r.a.createElement(It,{key:e.id,todo:e,onDelete:g,onEditFinish:E,updateTodo:o,listview:d,labels:f})})))},zt=Object(O.a)((function(e){return{root:Object(h.a)({margin:e.spacing(2,10)},e.breakpoints.down("sm"),{margin:e.spacing(2,6)})}})),Rt=function(){var e=zt(),t=Object(n.useContext)(p).filter,a=Object(n.useMemo)((function(){return r.a.createElement(pt,null)}),[]);return r.a.createElement("div",{className:e.root},r.a.createElement(Le.a,{container:!0,spacing:2},"archive"!==t&&"trash"!==t&&"search"!==t&&r.a.createElement(Le.a,{item:!0,xs:12},a),r.a.createElement(Bt,null)))},At=a(175),Pt=a(95),Mt=a(183),Ht=a(59),Wt=a(174),Vt=Object(Pt.a)({palette:{type:"light",primary:Ht.a,secondary:Wt.a},custom:{palette:{headerBG:"#FFF6",iconColor:"#5f6368",itemBorderColor:"#DDDDDD",iconHighlight:Ht.a[900],notesCheckbox:Ht.a[700],profilePopColor:"#FFF",noteBackground:{default:"#FFF",red:"#F28B82",orange:"#FBBC04",yellow:"#FFF475",green:"#CCFF90",cyan:"#A7FFEB",lightblue:"#CBF0F8",darkblue:"#AECBFA",purple:"#D7AEFB",pink:"#FDCFE8",brown:"#E6C9A8",grey:"#E8EAED"},noteColorCheck:"#0007",labelBackground:"#0002",labelHoverBackground:"#0005"}},overrides:{}}),Gt=Object(Pt.a)({palette:{background:{paper:"#303030"},type:"dark",primary:{main:"#202124"},secondary:{main:Ht.a[200]}},custom:{palette:{headerBG:"#0006",iconColor:"#949596",itemBorderColor:"#5F6368",iconHighlight:"#888A8B",notesCheckbox:"#5F6368",profilePopColor:"#2D2E30",noteBackground:{default:"#303030",red:"#5C2B29",orange:"#614A19",yellow:"#635D18",green:"#345920",cyan:"#16504B",lightblue:"#2D555E",darkblue:"#1E3A5F",purple:"#42275E",pink:"#5B2245",brown:"#442F19",grey:"#3C3F43"},noteColorCheck:"#FFF7",labelBackground:"#0002",labelHoverBackground:"#FFF3"}}}),Ut=Object(Mt.a)(Vt),Jt=Object(Mt.a)(Gt),_t=function(){var e=r.a.useContext(p).darkTheme;return r.a.createElement(At.a,{theme:e?Jt:Ut},r.a.createElement(Se,null,r.a.createElement(Rt,null)))};var qt=function(){return r.a.createElement(b,{todos:{loading:!1,error:null,filter:"all",searchValue:"",notes:[],userInfo:[]}},r.a.createElement(At.a,{theme:Ut},r.a.createElement(_t,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a.p+"static/media/logo.1a09629a.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.0bc4a430.chunk.js.map